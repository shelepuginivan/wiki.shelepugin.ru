---
title: Важное ПО
sidebar:
    order: 3
---

Так как niri не является полноценным окружением рабочего стола, вы, скорее всего,
захотите использовать следующие программы, чтобы приложения работали корректно.

## Демон уведомлений

Многим программам нужно, чтобы такой был.
Например, хорошо работает [`mako`](https://github.com/emersion/mako).
Используйте [настройку с systemd](/niri/usage/example-systemd-setup) или `spawn-at-startup`.

## Порталы

Порталы предоставляют кросс-десктопный API для приложений &mdash;
функции наподобие выбора файлов или настроек интерфейса. В частности,
Flatpak-приложениям требуется рабочий портал.

Порталы требуют [запуска niri как сессии](/niri/usage/getting-started), т.е.
запуск при помощи `niri-session` или менеджера дисплеев. Вам понадобится установить
следующие порталы:

-   `xdg-desktop-portal-gtk` &mdash; реализует большую часть базового функционала,
    используется как "запасной портал по умолчанию".
-   `xdg-desktop-portal-gnome` &mdash; требуется для поддержки скринкастинга.
-   `gnome-keyring` &mdash; реализует портал "Secret", требуемый для работы некоторых приложений.

В таком случае systemd должен запускать их по требованию автоматически.
Эти конкретные порталы настраиваются в файле `niri-portals.conf`, 
который должен быть расположен в [правильном месте](/niri/usage/getting-started/#сборка-пакетов).

Поскольку мы используем `xdg-desktop-portal-gnome`, Flatpak-приложенияя будут
считывать настройки пользовательского интерфейса GNOME.
Например, чтобы включить темный стиль, выполните команду:

```shell
dconf write /org/gnome/desktop/interface/color-scheme '"prefer-dark"'
```

## Агент аутентификации

Требуется, когда приложениям нужно запросить права администратора.
Что-то наподобие `plasma-polkit-agent` работает отлично.
Запустите [с systemd](/niri/usage/example-systemd-setup) или при помощи `spawn-at-startup`.

:::caution[Обратите внимание]

Чтобы запустить `plasma-polkit-agent` через systemd на Fedora, вам нужно переопределить
существующий сервис systemd, чтобы добавить правильную зависимость. Запустите:

```shell
systemctl --user edit --full plasma-polkit-agent.service
```

Далее добавьте опцию `After=graphical-session.target`.

:::
