---
title: 'Проблемы с приложениями'
sidebar:
    label: 'VSCode, Chromium, WezTerm'
    order: 6
---

## VSCode

По-видимому, в Wayland бекенде VSCode до версии 1.86.0 присутствует баг,
из-за которого окно не отображается при использовании декораций на стороне сервера.
Поэтому, чтобы запустить VSCode:

1.  Убедитесь, что ваша версия VSCode &mdash; 1.86.0 или выше,
    или что в вашей конфигурации niri **не** установлена опция `prefer-no-csd`.

2.  Запустите `code --ozone-platform-hint=auto --enable-features=WaylandWindowDecorations`.

Также, если у вас есть проблемы с некоторыми горячими клавишами VSCode,
попробуйте запустить `Xwayland` и установить переменную окружения `DISPLAY=:0`
для VSCode. То есть, вы всё ещё запускаете VSCode с бекендом Wayland,
но `DISPLAY` установлен на запущенный экземпляр `Xwayland`.

## Chromium

При создании нового окна из Chromium (т.е. с помощью <kbd>Ctrl</kbd><kbd>N</kbd>),
есть баг с размерами:

-   С клиентскими декорациями (опция `prefer-no-csd` не установлена), окно несколько меньше, чем нужно.
-   С серверными декорациями (опция `prefer-no-csd` установлена), буфер окна будет смещен в левый верхний угол.

Оба бага можно исправить, изменив размер созданного окна Chromium.

## WezTerm

У WezTerm есть [баг](https://github.com/wez/wezterm/issues/4708),
который заключается в том, что он ожидает конфигурационное событие Wayland с нулевым размером окна,
поэтому его окно фактически никогда не отображается. Чтобы разрешить эту проблему, добавьте это
правило в вашу конфигурацию niri (входит в конфигурацию по умолчанию):

```kdl
window-rule {
    match app-id=r#"^org\.wezfurlong\.wezterm$"#
    default-column-width {}
}
```

Неустановленная ширина колонки по умолчанию позволяет WezTerm'у установить
собственную нулевую ширину и корректно отобразить окно.
